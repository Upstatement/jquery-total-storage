(function(c){var b=window.localStorage;var a;if(typeof b=="undefined"||typeof window.JSON=="undefined"){a=false}else{a=true}c.totalStorage=function(e,f,d){return c.totalStorage.impl.init(e,f)};c.totalStorage.setItem=function(d,e){return c.totalStorage.impl.setItem(d,e)};c.totalStorage.getItem=function(d){return c.totalStorage.impl.getItem(d)};c.totalStorage.getAll=function(){return c.totalStorage.impl.getAll()};c.totalStorage.deleteItem=function(d){return c.totalStorage.impl.deleteItem(d)};c.totalStorage.impl={init:function(d,e){if(typeof e!="undefined"){return this.setItem(d,e)}else{return this.getItem(d)}},setItem:function(f,g){if(!a){try{c.cookie(f,g);return g}catch(h){console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality")}}var d=JSON.stringify(g);b.setItem(f,d);return this.parseResult(d)},getItem:function(d){if(!a){try{return this.parseResult(c.cookie(d))}catch(f){return null}}return this.parseResult(b.getItem(d))},deleteItem:function(d){if(!a){try{c.cookie(d,null);return true}catch(f){return false}}b.removeItem(d);return true},getAll:function(){var d=new Array();if(!a){try{var h=document.cookie.split(";");for(var g=0;g<h.length;g++){var k=h[g].split("=");var f=k[0];d.push({key:f,value:this.parseResult(c.cookie(f))})}}catch(j){return null}}else{for(var g in b){if(g.length){d.push({key:g,value:this.parseResult(b.getItem(g))})}}}return d},parseResult:function(f){var d;try{d=JSON.parse(f);if(d=="true"){d=true}if(d=="false"){d=false}if(parseFloat(d)==d){d=parseFloat(d)}}catch(g){}return d}}})(jQuery);